<?xml version="1.0" encoding="utf-8" ?>
<Window
    x:Class="FlyPhotos.Views.PhotoDisplayWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:utils="using:FlyPhotos.Utils"
    xmlns:win2d="using:Microsoft.Graphics.Canvas.UI.Xaml"
    mc:Ignorable="d">

    <utils:CursorHost
        x:Name="MainLayout"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch">
        <utils:CursorHost.Resources>
            <ResourceDictionary>
                <ResourceDictionary.ThemeDictionaries>
                    <ResourceDictionary x:Key="Light">
                        <SolidColorBrush x:Key="ButtonPanelBackgroundBrush" Color="Transparent" />
                        <SolidColorBrush x:Key="FileNameBackgroundBrush" Color="#44FFFFFF" />
                    </ResourceDictionary>
                    <ResourceDictionary x:Key="Dark">
                        <SolidColorBrush x:Key="ButtonPanelBackgroundBrush" Color="#44000000" />
                        <SolidColorBrush x:Key="FileNameBackgroundBrush" Color="#44000000" />
                    </ResourceDictionary>
                </ResourceDictionary.ThemeDictionaries>
            </ResourceDictionary>
        </utils:CursorHost.Resources>
        <Grid
            x:Name="AppTitlebar"
            Height="28"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            Background="Transparent">
            <Rectangle
                x:Name="TitlebarBackground"
                Fill="{ThemeResource SystemControlBackgroundAltHighBrush}"
                Opacity="0" />
        </Grid>
        <win2d:CanvasControl x:Name="D2dCanvas" />
        <Border
            x:Name="BorderTxtZoom"
            Padding="10,5,10,5"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Background="#66000000"
            CornerRadius="5"
            Visibility="Collapsed">
            <TextBlock
                x:Name="TxtZoom"
                Width="Auto"
                Height="Auto"
                Margin="0"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                FontSize="12"
                Foreground="White"
                Text="" />
        </Border>
        <StackPanel
            HorizontalAlignment="Stretch"
            VerticalAlignment="Bottom"
            Orientation="Vertical"
            Spacing="5">
            <Border
                x:Name="BorderTxtFileName"
                Padding="10,5,10,5"
                HorizontalAlignment="Center"
                VerticalAlignment="Bottom"
                Background="{ThemeResource FileNameBackgroundBrush}"
                CornerRadius="5">
                <TextBlock
                    x:Name="TxtFileName"
                    Width="Auto"
                    Height="Auto"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    FontSize="12"
                    Foreground="{ThemeResource TextFillColorPrimaryBrush}" />
            </Border>
            <Border
                x:Name="BorderButtonPanel"
                Padding="5"
                HorizontalAlignment="Center"
                VerticalAlignment="Bottom"
                Background="{ThemeResource ButtonPanelBackgroundBrush}"
                CornerRadius="5">
                <StackPanel
                    x:Name="ButtonPanel"
                    Width="Auto"
                    Height="Auto"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <RepeatButton
                        x:Name="ButtonBack"
                        Width="Auto"
                        Click="ButtonBack_OnClick"
                        Content="&#xE96f;"
                        FontFamily="{StaticResource FluentIcons}"
                        FontSize="16"
                        PointerWheelChanged="ButtonBackNext_PointerWheelChanged">
                        <ToolTipService.ToolTip>
                            <ToolTip
                                AutomationProperties.FullDescription="Non-occluding tooltip"
                                Content="Back"
                                Placement="Right" />
                        </ToolTipService.ToolTip>
                    </RepeatButton>
                    <RepeatButton
                        x:Name="ButtonRotate"
                        Width="Auto"
                        Click="ButtonRotate_OnClick"
                        Content="&#xE89E;"
                        FontFamily="{StaticResource FluentIcons}"
                        FontSize="16"
                        PointerWheelChanged="ButtonRotate_PointerWheelChanged">
                        <ToolTipService.ToolTip>
                            <ToolTip
                                AutomationProperties.FullDescription="Non-occluding tooltip"
                                Content="Rotate"
                                Placement="Right" />
                        </ToolTipService.ToolTip>
                    </RepeatButton>
                    <RepeatButton
                        x:Name="ButtonNext"
                        Width="Auto"
                        Margin="0,0,10,0"
                        Click="ButtonNext_OnClick"
                        Content="&#xE970;"
                        FontFamily="{StaticResource FluentIcons}"
                        FontSize="16"
                        PointerWheelChanged="ButtonBackNext_PointerWheelChanged">
                        <ToolTipService.ToolTip>
                            <ToolTip
                                AutomationProperties.FullDescription="Non-occluding tooltip"
                                Content="Next"
                                Placement="Right" />
                        </ToolTipService.ToolTip>
                    </RepeatButton>
                    <ToggleButton
                        x:Name="ButtonScaleSet"
                        Width="Auto"
                        Click="ButtonScaleSet_Click"
                        Content="&#xE9A6;"
                        FontFamily="{StaticResource FluentIcons}"
                        FontSize="16">
                        <ToolTipService.ToolTip>
                            <ToolTip
                                AutomationProperties.FullDescription="Non-occluding tooltip"
                                Content="Fit to display area"
                                Placement="Right" />
                        </ToolTipService.ToolTip>
                    </ToggleButton>
                    <ToggleButton
                        x:Name="ButtonOneIsToOne"
                        Width="Auto"
                        Height="{Binding ElementName=ButtonScaleSet, Path=ActualHeight}"
                        Click="ButtonOneIsToOne_Click"
                        Content="1:1"
                        FontSize="12">
                        <ToolTipService.ToolTip>
                            <ToolTip
                                AutomationProperties.FullDescription="Non-occluding tooltip"
                                Content="Zoom to 1:1"
                                Placement="Right" />
                        </ToolTipService.ToolTip>
                    </ToggleButton>
                    <Button
                        x:Name="ButtonSettings"
                        Width="Auto"
                        Click="ButtonSettings_OnClick"
                        Content="&#xE713;"
                        FontFamily="{StaticResource FluentIcons}"
                        FontSize="16">
                        <ToolTipService.ToolTip>
                            <ToolTip
                                AutomationProperties.FullDescription="Non-occluding tooltip"
                                Content="Settings"
                                Placement="Right" />
                        </ToolTipService.ToolTip>
                    </Button>
                    <Button
                        x:Name="ButtonShortcuts"
                        Width="Auto"
                        Click="ButtonShortcuts_OnClick"
                        Content="&#xE7AC;"
                        FontFamily="{StaticResource FluentIcons}"
                        FontSize="16">
                        <ToolTipService.ToolTip>
                            <ToolTip
                                AutomationProperties.FullDescription="Non-occluding tooltip"
                                Content="Open in other apps"
                                Placement="Right" />
                        </ToolTipService.ToolTip>
                    </Button>
                    <Button
                        x:Name="ButtonExpander"
                        Width="Auto"
                        Click="ButtonExpander_Click">
                        <ToolTipService.ToolTip>
                            <ToolTip
                                AutomationProperties.FullDescription="Non-occluding tooltip"
                                Content="View Cache Status"
                                Placement="Right" />
                        </ToolTipService.ToolTip>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                x:Name="IconExpander"
                                Width="Auto"
                                Margin="3,0,0,0"
                                FontFamily="{StaticResource FluentIcons}"
                                FontSize="16"
                                Text="&#xE761;" />
                            <TextBlock
                                x:Name="CacheStatusProgress"
                                Width="Auto"
                                Margin="10,0,0,0"
                                FontSize="12"
                                Visibility="Collapsed" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Border>
            <win2d:CanvasControl
                x:Name="D2dCanvasThumbNail"
                Width="Auto"
                Height="40"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Bottom" />
        </StackPanel>

    </utils:CursorHost>
</Window>