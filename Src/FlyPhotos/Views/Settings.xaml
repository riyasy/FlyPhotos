<Window
    x:Class="FlyPhotos.Views.Settings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI"
    mc:Ignorable="d">
    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>
    <Grid x:Name="MainLayout" Background="Transparent">
        <Pivot Title="Fly Photos - Settings">
            <PivotItem Header="General">
                <ScrollViewer>
                    <ScrollViewer.Resources>
                        <Flyout x:Name="ColorPickerFlyout" Placement="Right">
                            <!--  A StackPanel organizes the content of the flyout  -->
                            <StackPanel MinWidth="300" Spacing="10">
                                <ColorPicker
                                    x:Name="FlyoutColorPicker"
                                    ColorSpectrumShape="Ring"
                                    IsAlphaEnabled="False"
                                    IsHexInputVisible="True" />
                                <!--  Buttons to confirm or cancel the selection  -->
                                <StackPanel
                                    HorizontalAlignment="Right"
                                    Orientation="Horizontal"
                                    Spacing="10">
                                    <Button Click="ColorFlyOutOkButton_Click" Content="Ok" />
                                    <Button Click="ColorFlyOutCancelButton_Click" Content="Cancel" />
                                </StackPanel>
                            </StackPanel>
                        </Flyout>
                    </ScrollViewer.Resources>
                    <StackPanel Margin="0,0,15,0" Orientation="Vertical">
                        <controls:SettingsCard
                            x:Name="SettingsCardDeveloperSupport"
                            Margin="0,10,0,0"
                            Description="Make Fly more awesome."
                            Header="Support Flyphotos"
                            HeaderIcon="{ui:FontIcon Glyph=&#xEB51;}">
                            <HyperlinkButton Content="Donate" NavigateUri="https://github.com/sponsors/riyasy" />
                        </controls:SettingsCard>
                        <controls:SettingsExpander
                            Margin="0,5,0,0"
                            Header="KeyBoard Shortcuts"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE765;}">
                            <controls:SettingsExpander.Items>
                                <controls:SettingsCard x:Name="SettingsCardKeyboardShortCuts" Description="" />
                            </controls:SettingsExpander.Items>
                        </controls:SettingsExpander>
                        <TextBlock
                            Margin="0,20,0,0"
                            Style="{StaticResource BodyStrongTextBlockStyle}"
                            Text="Theming" />
                        <controls:SettingsCard
                            x:Name="SettingsCardTheme"
                            Margin="0,5,0,0"
                            Description="Select the app theme."
                            Header="Window Theme"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE790;}">
                            <ComboBox
                                x:Name="ComboTheme"
                                MinWidth="150"
                                SelectedIndex="0">
                                <ComboBoxItem>Default</ComboBoxItem>
                                <ComboBoxItem>Dark</ComboBoxItem>
                                <ComboBoxItem>Light</ComboBoxItem>
                            </ComboBox>
                        </controls:SettingsCard>
                        <controls:SettingsExpander
                            x:Name="SettingsCardWindowBackground"
                            Margin="0,5,0,0"
                            Description="Set the window background."
                            Header="Window Background"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE70A;}">
                            <ComboBox
                                x:Name="ComboBackGround"
                                MinWidth="150"
                                HorizontalAlignment="Right"
                                SelectedIndex="0">
                                <ComboBoxItem>Transparent</ComboBoxItem>
                                <ComboBoxItem>Frozen</ComboBoxItem>
                                <ComboBoxItem>Acrylic</ComboBoxItem>
                                <ComboBoxItem>Acrylic Thin</ComboBoxItem>
                                <ComboBoxItem>Mica</ComboBoxItem>
                                <ComboBoxItem>Mica Alt</ComboBoxItem>
                                <ComboBoxItem>None</ComboBoxItem>
                            </ComboBox>
                            <controls:SettingsExpander.Items>
                                <controls:SettingsCard
                                    x:Name="SettingsCardTransparentBackgroundIntensity"
                                    Description="Applicable only for Transparent Window Background."
                                    Header="Set transparency %"
                                    IsEnabled="{x:Bind ShouldEnableTransparencySlider(ComboBackGround.SelectedIndex), Mode=OneWay}">
                                    <Slider
                                        x:Name="SliderTransparentBackgroundIntensity"
                                        MinWidth="150"
                                        Maximum="90"
                                        Minimum="30"
                                        SmallChange="10"
                                        StepFrequency="10"
                                        Value="60" />
                                </controls:SettingsCard>
                            </controls:SettingsExpander.Items>
                        </controls:SettingsExpander>
                        <TextBlock
                            Margin="0,20,0,0"
                            Style="{StaticResource BodyStrongTextBlockStyle}"
                            Text="Photo Display" />
                        <controls:SettingsExpander
                            Margin="0,5,0,0"
                            Description="Customize Pan and Zoom behaviour."
                            Header="Pan and Zoom Settings"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE71E;}">
                            <controls:SettingsExpander.Items>
                                <controls:SettingsCard
                                    x:Name="SettingsCardOpenExitZoom"
                                    Description="âš  May slowdown startup: Fly waits to load full image instead of preview during startup."
                                    Header="Zoom in on file Open, Zoom out on exit">
                                    <ToggleSwitch x:Name="ButtonOpenExitZoom" />
                                </controls:SettingsCard>
                                <controls:SettingsCard
                                    x:Name="SettingsCardHighQualityInterpolation"
                                    Description="Disable for sharper pixel edges (useful for pixel art)."
                                    Header="Use high quality interpolation when zooming">
                                    <ToggleSwitch x:Name="ButtonHighQualityInterpolation" />
                                </controls:SettingsCard>
                                <controls:SettingsCard
                                    x:Name="SettingsCardPanZoomNavBehaviour"
                                    Description="âš  Use Retain option only in folder with same size photos"
                                    Header="Pan, Zoom &amp; Rotation behaviour during navigation">
                                    <ComboBox
                                        x:Name="ComboPanZoomNavBehaviour"
                                        MinWidth="150"
                                        HorizontalAlignment="Right">
                                        <ComboBoxItem>Reset Pan/Zoom/Rotation</ComboBoxItem>
                                        <ComboBoxItem>Remember Pan/Zoom/Rotation per photo</ComboBoxItem>
                                        <ComboBoxItem>Retain Pan/Zoom from previous photo</ComboBoxItem>
                                    </ComboBox>
                                </controls:SettingsCard>
                                <controls:SettingsCard x:Name="SettingsCardShowZoomPercent" Header="Show Zoom percentage on screen">
                                    <ToggleSwitch x:Name="ButtonShowZoomPercent" />
                                </controls:SettingsCard>
                            </controls:SettingsExpander.Items>
                        </controls:SettingsExpander>
                        <controls:SettingsCard
                            x:Name="SettingsCardImageFitPercentage"
                            Margin="0,5,0,0"
                            Description="Choose how much screen % to fill with image"
                            Header="Image to Screen Fit"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE9A6;}">
                            <Slider
                                x:Name="SliderImageFitPercentage"
                                MinWidth="150"
                                Maximum="100"
                                Minimum="50"
                                SmallChange="10"
                                StepFrequency="10" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardShowCheckeredBackground"
                            Margin="0,5,0,0"
                            Description="Show checkered background for transparent images. âš  May reduce Fly performance."
                            Header="Show Checkered Background"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE80A;}">
                            <ToggleSwitch x:Name="ButtonShowCheckeredBackground" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardRememberLastMonitor"
                            Margin="0,5,0,0"
                            Description="Fly will open on last used monitor. Don't enable if you have only one monitor."
                            Header="Remember last used monitor"
                            HeaderIcon="{ui:FontIcon Glyph=&#xEC77;}">
                            <ToggleSwitch x:Name="ButtonRememberLastMonitor" />
                        </controls:SettingsCard>
                        <TextBlock
                            Margin="0,20,0,0"
                            Style="{StaticResource BodyStrongTextBlockStyle}"
                            Text="UI Controls" />
                        <controls:SettingsExpander
                            Margin="0,5,0,0"
                            Header="Auto Fade / Hide Settings"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE754;}">
                            <controls:SettingsExpander.Items>
                                <controls:SettingsCard
                                    x:Name="SettingsCardFadeControls"
                                    Description="Fade UI controls when mouse moves away."
                                    Header="Auto Fade UI controls">
                                    <ToggleSwitch x:Name="ButtonEnableAutoFade" HorizontalAlignment="Right" />
                                </controls:SettingsCard>
                                <controls:SettingsCard
                                    x:Name="SettingsCardFadeIntensity"
                                    Description="Adjust strength of auto-fade effect."
                                    Header="Auto Fade intensity %"
                                    IsEnabled="{x:Bind ButtonEnableAutoFade.IsOn, Mode=OneWay}">
                                    <Slider
                                        x:Name="SliderFadeIntensity"
                                        MinWidth="150"
                                        Maximum="100"
                                        Minimum="30"
                                        SmallChange="10"
                                        StepFrequency="10"
                                        Value="50" />
                                </controls:SettingsCard>
                                <controls:SettingsCard
                                    x:Name="SettingsCardAutoHideMouse"
                                    Description="Hide mouse cursor if mouse is inactive."
                                    Header="Auto Hide mouse cursor">
                                    <ToggleSwitch x:Name="ButtonEnableAutoHideMouse" HorizontalAlignment="Right" />
                                </controls:SettingsCard>
                            </controls:SettingsExpander.Items>
                        </controls:SettingsExpander>
                        <controls:SettingsExpander
                            x:Name="SettingsCardMouseWheelBehaviour"
                            Margin="0,5,0,0"
                            Description="Choose default mouse wheel behaviour."
                            Header="Mouse Wheel"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE962;}">
                            <ComboBox
                                x:Name="ComboMouseWheelBehaviour"
                                MinWidth="150"
                                SelectedIndex="0">
                                <ComboBoxItem>Zoom In or Out</ComboBoxItem>
                                <ComboBoxItem>View Next or Previous</ComboBoxItem>
                            </ComboBox>
                            <controls:SettingsExpander.Items>
                                <controls:SettingsCard x:Name="ComboMouseWheelBehaviourInfo" Description="ðŸ‘‰ Ctrl + Mouse wheel always zooms in or out.%%ðŸ‘‰ Alt + Mouse wheel always navigates to next or previous" />
                            </controls:SettingsExpander.Items>
                        </controls:SettingsExpander>
                        <controls:SettingsExpander
                            x:Name="SettingsCardShowThumbnail"
                            Margin="0,5,0,0"
                            Description="Show thumbnail strip at the bottom of window"
                            Header="Show thumbnail strip"
                            HeaderIcon="{ui:FontIcon Glyph=&#xF597;}">
                            <ToggleSwitch x:Name="ButtonShowThumbnail" HorizontalAlignment="Right" />
                            <controls:SettingsExpander.Items>
                                <controls:SettingsCard
                                    x:Name="SettingsCardThumbnailSize"
                                    Description="Adjust the size of the thumbnails in the viewer."
                                    Header="Thumbnail size"
                                    HeaderIcon="{ui:FontIcon Glyph=&#xE620;}"
                                    IsEnabled="{x:Bind ButtonShowThumbnail.IsOn, Mode=OneWay}">
                                    <Slider
                                        x:Name="SliderThumbnailSize"
                                        MinWidth="150"
                                        Maximum="60"
                                        Minimum="30"
                                        SmallChange="10"
                                        StepFrequency="10"
                                        Value="40" />
                                </controls:SettingsCard>
                                <controls:SettingsCard
                                    x:Name="SettingsCardThumbnailSelectionColor"
                                    Description="Set the highlight color used for selected thumbnails."
                                    Header="Thumbnail selection color"
                                    HeaderIcon="{ui:FontIcon Glyph=&#xE790;}"
                                    IsEnabled="{x:Bind ButtonShowThumbnail.IsOn, Mode=OneWay}">
                                    <Button
                                        x:Name="ButtonSetThumbnailSelColor"
                                        HorizontalAlignment="Right"
                                        FlyoutBase.AttachedFlyout="{StaticResource ColorPickerFlyout}"
                                        Tapped="RectThumbnailSelection_Tapped"
                                        ToolTipService.ToolTip="Click to change selection color.">
                                        <Button.Content>
                                            <Rectangle
                                                x:Name="RectThumbnailSelection"
                                                Width="20"
                                                Height="20"
                                                StrokeThickness="3" />
                                        </Button.Content>
                                    </Button>
                                </controls:SettingsCard>
                            </controls:SettingsExpander.Items>
                        </controls:SettingsExpander>
                        <controls:SettingsExpander
                            x:Name="SettingsCardExternalShorcuts"
                            Margin="0,5,0,0"
                            Description="Open the current photo in other apps"
                            Header="Show Shortcuts to external apps"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE8A7;}">
                            <ToggleSwitch x:Name="ButtonEnableExternalShortcut" HorizontalAlignment="Right" />
                            <controls:SettingsExpander.Items>
                                <controls:SettingsCard
                                    x:Name="SettingsCardExternalApps"
                                    Description="Browse exes to add as shortcuts."
                                    Header="Select external apps"
                                    IsEnabled="{x:Bind ButtonEnableExternalShortcut.IsOn, Mode=OneWay}">
                                    <StackPanel Orientation="Horizontal">
                                        <Button
                                            x:Name="BtnShortcut1"
                                            Height="50"
                                            Margin="2"
                                            Click="OnShortcutButtonClick">
                                            <FontIcon Glyph="&#xE8E5;" />
                                        </Button>
                                        <Button
                                            x:Name="BtnShortcut2"
                                            Height="50"
                                            Margin="2"
                                            Click="OnShortcutButtonClick">
                                            <FontIcon Glyph="&#xE8E5;" />
                                        </Button>
                                        <Button
                                            x:Name="BtnShortcut3"
                                            Height="50"
                                            Margin="2"
                                            Click="OnShortcutButtonClick">
                                            <FontIcon Glyph="&#xE8E5;" />
                                        </Button>
                                        <Button
                                            x:Name="BtnShortcut4"
                                            Height="50"
                                            Margin="2"
                                            Click="OnShortcutButtonClick">
                                            <FontIcon Glyph="&#xE8E5;" />
                                        </Button>
                                    </StackPanel>
                                </controls:SettingsCard>
                            </controls:SettingsExpander.Items>
                        </controls:SettingsExpander>
                        <controls:SettingsCard
                            x:Name="SettingsCardShowFileName"
                            Margin="0,5,0,0"
                            Description="Display file name of currently opened file"
                            Header="Show file name on screen"
                            HeaderIcon="{ui:FontIcon Glyph=&#xED1E;}">
                            <ToggleSwitch x:Name="ButtonShowFileName" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardConfirmBeforeDelete"
                            Margin="0,5,0,0"
                            Description="Ask for confirmation before deleting any file."
                            Header="Show confirmation dialog for file delete"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE74D;}">
                            <ToggleSwitch x:Name="ButtonConfirmBeforeDelete" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardShowCacheStatusExpander"
                            Description="Show cache status expander in the button panel."
                            Header="Show cache status"
                            HeaderIcon="{ui:FontIcon Glyph=&#xED1E;}">
                            <ToggleSwitch x:Name="ButtonShowCacheStatusExpander" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardShowImageDimensions"
                            Description="Show width and height of photo next to file name."
                            Header="Show photo dimensions"
                            HeaderIcon="{ui:FontIcon Glyph=&#xED1E;}">
                            <ToggleSwitch x:Name="ButtonShowImageDimensions" />
                        </controls:SettingsCard>
                        <TextBlock
                            Margin="0,20,0,0"
                            Style="{StaticResource BodyStrongTextBlockStyle}"
                            Text="Caching" />
                        <controls:SettingsExpander
                            x:Name="SettingsExpanderCaching"
                            Margin="0,5,0,0"
                            Description="Configure how Fly handles photo caching."
                            Header="Caching"
                            HeaderIcon="{ui:FontIcon Glyph=&#xF16A;}">
                            <controls:SettingsExpander.Items>
                                <controls:SettingsCard
                                    x:Name="SettingsCardLowResCache"
                                    Description="Set the number of low-resolution photos cached on each side."
                                    Header="Low-res cache">
                                    <Slider
                                        x:Name="SliderLowResCacheSize"
                                        MinWidth="150"
                                        Maximum="300"
                                        Minimum="50"
                                        SmallChange="10"
                                        StepFrequency="10"
                                        Value="300" />
                                </controls:SettingsCard>
                                <controls:SettingsCard
                                    x:Name="SettingsCardHighResCache"
                                    Description="Set the number of high-resolution photos cached on each side."
                                    Header="High-res cache">
                                    <Slider
                                        x:Name="SliderHighResCacheSize"
                                        MinWidth="150"
                                        Maximum="3"
                                        Minimum="1"
                                        SmallChange="1"
                                        StepFrequency="1"
                                        Value="2" />
                                </controls:SettingsCard>

                            </controls:SettingsExpander.Items>
                        </controls:SettingsExpander>
                        <TextBlock
                            Margin="0,20,0,0"
                            Style="{StaticResource BodyStrongTextBlockStyle}"
                            Text="Log" />
                        <controls:SettingsCard
                            x:Name="SettingsCardLog"
                            Margin="0,5,0,30"
                            Description="Open to see the log file"
                            Header="Log File"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE81C;}">
                            <StackPanel Orientation="Vertical">
                                <Button x:Name="ButtonOpenLog" Click="ButtonOpenLog_OnClick">Open Log</Button>
                            </StackPanel>
                        </controls:SettingsCard>
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>
            <PivotItem Header="Codecs">
                <ScrollViewer>
                    <TextBlock
                        x:Name="TextBoxCodecs"
                        Margin="0,5,0,0"
                        Style="{StaticResource BodyTextBlockStyle}"
                        TextWrapping="Wrap" />
                </ScrollViewer>
            </PivotItem>
            <PivotItem Header="About">
                <StackPanel Orientation="Vertical">
                    <controls:SettingsCard
                        x:Name="SettingsCardVersion"
                        Margin="0,5,0,0"
                        Description="Current version is 2.5.13"
                        Header="Current Version"
                        HeaderIcon="{ui:FontIcon Glyph=&#xF133;}">
                        <HyperlinkButton Content="Check latest version" NavigateUri="https://github.com/riyasy/FlyPhotos/releases" />
                    </controls:SettingsCard>
                    <controls:SettingsCard
                        x:Name="SettingsCardSourceCode"
                        Margin="0,5,0,0"
                        Description="Fly Photos is open source and hosted in Github"
                        Header="Github Repository"
                        HeaderIcon="{ui:BitmapIcon Source=/Assets/Images/github-mark.png}">
                        <HyperlinkButton Content="Go to Github repository" NavigateUri="https://github.com/riyasy/FlyPhotos" />
                    </controls:SettingsCard>
                    <controls:SettingsCard
                        x:Name="SettingsCardReportBugs"
                        Margin="0,5,0,0"
                        Description="Report issues in Github or mail to ryftools@outlook.com"
                        Header="Bugs and issues"
                        HeaderIcon="{ui:FontIcon Glyph=&#xE730;}">
                        <HyperlinkButton Content="Go to bug page in repo" NavigateUri="https://github.com/riyasy/FlyPhotos/issues" />
                    </controls:SettingsCard>
                    <TextBlock
                        Margin="0,5,0,0"
                        Style="{StaticResource SubtitleTextBlockStyle}"
                        Text="Credits" />
                    <controls:SettingsCard
                        x:Name="SettingsCardCredits"
                        Margin="0,5,0,0"
                        Description=""
                        Header="Credits"
                        HeaderIcon="{ui:FontIcon Glyph=&#xE728;}" />
                </StackPanel>
            </PivotItem>
        </Pivot>
    </Grid>
</Window>