<?xml version="1.0" encoding="utf-8" ?>

<Window
    x:Class="FlyPhotos.Views.Settings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:CommunityToolkit.WinUI"
    mc:Ignorable="d">
    <Grid x:Name="MainLayout" Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Pivot Title="Fly Photos - Settings">
            <PivotItem Header="General">
                <ScrollViewer>
                    <StackPanel Margin="0,0,15,0" Orientation="Vertical">
                        <controls:SettingsExpander
                            Margin="0,5,0,0"
                            Header="KeyBoard Shortcuts"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE765;}">
                            <controls:SettingsExpander.Items>
                                <controls:SettingsCard x:Name="SettingsCardKeyboardShortCuts" Description="" />
                            </controls:SettingsExpander.Items>
                        </controls:SettingsExpander>

                        <TextBlock
                            Margin="0,5,0,0"
                            Style="{StaticResource SubtitleTextBlockStyle}"
                            Text="Options" />
                        <!--<controls:SettingsCard
                            x:Name="SettingsCardDeveloperSupport"
                            Margin="0,5,0,0"
                            Description="I wish to make FlyPhotos more awesome."
                            Header="Support Flyphotos"
                            HeaderIcon="{ui:FontIcon Glyph=&#xEC32;}">
                            <HyperlinkButton Content="Buy me a coffee" NavigateUri="https://buymeacoffee.com/ryftools" />
                        </controls:SettingsCard>-->
                        <controls:SettingsCard
                            x:Name="SettingsCardTheme"
                            Margin="0,5,0,0"
                            Description="Select the app theme."
                            Header="Window Theme"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE790;}">
                            <ComboBox x:Name="ComboTheme" SelectedIndex="0">
                                <ComboBoxItem>Default</ComboBoxItem>
                                <ComboBoxItem>Dark</ComboBoxItem>
                                <ComboBoxItem>Light</ComboBoxItem>
                            </ComboBox>
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardWindowBackground"
                            Margin="0,5,0,0"
                            Description="Set the window background."
                            Header="Window Background"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE70A;}">
                            <StackPanel Orientation="Vertical" Spacing="10">
                                <TextBlock Style="{StaticResource CaptionTextBlockStyle}" Text="Choose Background" />
                                <ComboBox x:Name="ComboBackGround" SelectedIndex="0">
                                    <ComboBoxItem>Transparent</ComboBoxItem>
                                    <ComboBoxItem>Frozen</ComboBoxItem>
                                    <ComboBoxItem>Acrylic</ComboBoxItem>
                                    <ComboBoxItem>Acrylic Thin</ComboBoxItem>
                                    <ComboBoxItem>Mica</ComboBoxItem>
                                    <ComboBoxItem>Mica Alt</ComboBoxItem>
                                    <ComboBoxItem>None</ComboBoxItem>
                                </ComboBox>
                                <TextBlock
                                    Padding="0,10,0,0"
                                    Style="{StaticResource CaptionTextBlockStyle}"
                                    Text="Set Transparency Percentage"
                                    Visibility="{x:Bind ShouldDisplayTransparencySlider(ComboBackGround.SelectedIndex), Mode=OneWay}" />
                                <Slider
                                    x:Name="SliderTransparentBackgroundIntensity"
                                    Width="200"
                                    Maximum="90"
                                    Minimum="30"
                                    SmallChange="10"
                                    StepFrequency="10"
                                    Visibility="{x:Bind ShouldDisplayTransparencySlider(ComboBackGround.SelectedIndex), Mode=OneWay}" />
                            </StackPanel>
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardOpenExitZoom"
                            Margin="0,5,0,0"
                            Description="⚠ May slowdown startup: Fly waits to load full image instead of preview during startup."
                            Header="Zoom in on file Open, Zoom out on exit"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE9A6;}">
                            <ToggleSwitch x:Name="ButtonOpenExitZoom" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardPanZoomReset"
                            Margin="0,5,0,0"
                            Description="Reset pan and zoom when switching photos."
                            Header="Pan Zoom Reset"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE799;}">
                            <ToggleSwitch x:Name="ButtonResetPanZoom" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardHighQualityInterpolation"
                            Margin="0,5,0,0"
                            Description="Disable for sharper pixel edges (useful for pixel art)."
                            Header="Use high quality interpolation when zooming"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE71E;}">
                            <ToggleSwitch x:Name="ButtonHighQualityInterpolation" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardShowCheckeredBackground"
                            Margin="0,5,0,0"
                            Description="Show checkered background for transparent images. ⚠ May reduce Fly performance."
                            Header="Show Checkered Background"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE80A;}">
                            <ToggleSwitch x:Name="ButtonShowCheckeredBackground" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardStartupStartupDisplayPercentage"
                            Margin="0,5,0,0"
                            Description="Choose startup image-window fit percentage"
                            Header="Startup up image size"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE9A6;}">
                            <Slider
                                x:Name="SliderStartupDisplayPercentage"
                                Width="200"
                                Maximum="100"
                                Minimum="50"
                                SmallChange="10"
                                StepFrequency="10" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardShowThumbnail"
                            Margin="0,5,0,0"
                            Description="Show thumbnail strip at the bottom of window"
                            Header="Show thumbnail strip"
                            HeaderIcon="{ui:FontIcon Glyph=&#xF597;}">
                            <ToggleSwitch x:Name="ButtonShowThumbnail" />
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardFadeControls"
                            Margin="0,5,0,0"
                            Description="Fade UI controls when mouse moves away"
                            Header="Control Fade Settings"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE754;}">
                            <StackPanel Orientation="Vertical" Spacing="10">
                                <CheckBox
                                    x:Name="CheckBoxEnableAutoFade"
                                    HorizontalAlignment="Left"
                                    Content="Enable Auto Fade" />
                                <TextBlock Style="{StaticResource CaptionTextBlockStyle}" Text="Fade Intesity" />
                                <Slider
                                    x:Name="SliderFadeIntensity"
                                    Width="200"
                                    IsEnabled="{x:Bind ConvertNullableBoolToBool(CheckBoxEnableAutoFade.IsChecked), Mode=OneWay}"
                                    Maximum="100"
                                    Minimum="30"
                                    SmallChange="10"
                                    StepFrequency="10"
                                    Value="50" />
                            </StackPanel>
                        </controls:SettingsCard>
                        <controls:SettingsCard
                            x:Name="SettingsCardPanHideRaw"
                            Margin="0,5,0,0"
                            Description="Hide Raw files if a similar named JPG/JPEG already exists"
                            Header="RAW Hiding"
                            HeaderIcon="{ui:FontIcon Glyph=&#xF19D;}"
                            Visibility="Collapsed">
                            <ToggleSwitch />
                        </controls:SettingsCard>
                        <TextBlock
                            Margin="0,5,0,0"
                            Style="{StaticResource SubtitleTextBlockStyle}"
                            Text="Caching" />
                        <controls:SettingsCard
                            x:Name="SettingsCardCacheSize"
                            Margin="0,5,0,0"
                            Description="Set the amount of low resolution and high resolution photos to be cached on each side"
                            Header="Cache Size"
                            HeaderIcon="{ui:FontIcon Glyph=&#xF16A;}">
                            <StackPanel Orientation="Vertical">
                                <TextBlock Style="{StaticResource CaptionTextBlockStyle}" Text="Low Res Cache" />
                                <Slider
                                    x:Name="SliderLowResCacheSize"
                                    Width="200"
                                    Maximum="300"
                                    Minimum="50"
                                    SmallChange="10"
                                    StepFrequency="10"
                                    Value="300" />
                                <TextBlock Style="{StaticResource CaptionTextBlockStyle}" Text="High Res Cache" />
                                <Slider
                                    x:Name="SliderHighResCacheSize"
                                    Width="200"
                                    Maximum="3"
                                    Minimum="1"
                                    SmallChange="1"
                                    StepFrequency="1"
                                    Value="2" />
                            </StackPanel>
                        </controls:SettingsCard>
                        <TextBlock Style="{StaticResource SubtitleTextBlockStyle}" Text="Log" />
                        <controls:SettingsCard
                            x:Name="SettingsCardLog"
                            Margin="0,5,0,0"
                            Description="Open to see the log file"
                            Header="Log File"
                            HeaderIcon="{ui:FontIcon Glyph=&#xE81C;}">
                            <StackPanel Orientation="Vertical">
                                <Button x:Name="ButtonOpenLog" Click="ButtonOpenLog_OnClick">Open Log</Button>
                            </StackPanel>
                        </controls:SettingsCard>
                    </StackPanel>
                </ScrollViewer>
            </PivotItem>
            <PivotItem Header="Codecs">
                <ScrollViewer>
                    <TextBlock
                        x:Name="TextBoxCodecs"
                        Margin="0,5,0,0"
                        Style="{StaticResource BodyTextBlockStyle}"
                        TextWrapping="Wrap" />
                </ScrollViewer>
            </PivotItem>
            <PivotItem Header="About">
                <StackPanel Orientation="Vertical">
                    <controls:SettingsCard
                        x:Name="SettingsCardVersion"
                        Margin="0,5,0,0"
                        Description="Current version is 2.5.2"
                        Header="Current Version"
                        HeaderIcon="{ui:FontIcon Glyph=&#xF133;}">
                        <HyperlinkButton Content="Check latest version" NavigateUri="https://github.com/riyasy/FlyPhotos/releases" />
                    </controls:SettingsCard>
                    <controls:SettingsCard
                        x:Name="SettingsCardSourceCode"
                        Margin="0,5,0,0"
                        Description="Fly Photos is open source and hosted in Github"
                        Header="Github Repository"
                        HeaderIcon="{ui:BitmapIcon Source=/Assets/Images/github-mark.png}">
                        <HyperlinkButton Content="Go to Github repository" NavigateUri="https://github.com/riyasy/FlyPhotos" />
                    </controls:SettingsCard>
                    <controls:SettingsCard
                        x:Name="SettingsCardReportBugs"
                        Margin="0,5,0,0"
                        Description="Report issues in Github or mail to ryftools@outlook.com"
                        Header="Bugs and issues"
                        HeaderIcon="{ui:FontIcon Glyph=&#xE730;}">
                        <HyperlinkButton Content="Go to bug page in repo" NavigateUri="https://github.com/riyasy/FlyPhotos/issues" />
                    </controls:SettingsCard>
                    <TextBlock
                        Margin="0,5,0,0"
                        Style="{StaticResource SubtitleTextBlockStyle}"
                        Text="Credits" />
                    <controls:SettingsCard
                        x:Name="SettingsCardCredits"
                        Margin="0,5,0,0"
                        Description=""
                        Header="Credits"
                        HeaderIcon="{ui:FontIcon Glyph=&#xE728;}" />
                </StackPanel>
            </PivotItem>
        </Pivot>
    </Grid>
</Window>